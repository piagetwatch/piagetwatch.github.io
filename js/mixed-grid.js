(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{15:function(t,e,i){t.exports=i("LtVI")},LtVI:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=s(i("oCYn")),l=s(i("oNN2"));Array.from(document.querySelectorAll(".piaget-mixed-grid")).forEach((function(t){new r.default({el:t,components:{MixedGrid:l.default}})}))},oNN2:function(t,e,i){"use strict";i.r(e);i("ma9I"),i("TeQF"),i("QWBl"),i("yq1k"),i("yXV3"),i("2B1R"),i("E9XD"),i("+2oP"),i("ToJy"),i("pDQq"),i("qePV"),i("T63A"),i("tkto"),i("rB9j"),i("JTJg"),i("UxlC"),i("FZtP");var s=i("J4zp"),r=i.n(s),l=i("k8Y/"),a=i.n(l),n=i("0XPj"),o=i.n(n),c=i("E+oP"),d=i.n(c),u=i("FyPc"),f=i.n(u),p=i("mwIZ"),m=i.n(p),h=i("OFL0"),v=i.n(h),b=i("k4Da"),g=i.n(b),_=i("J2m7"),C=i.n(_),y=i("ecRz"),F={props:{list:{type:Array,required:!0}}},S=i("KHd+"),k=Object(S.a)(F,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.list.length>0?i("div",[i("ul",{staticClass:"list-hybrid list-hybrid--titled mrgt+",attrs:{role:"presentation"}},[i("li",{staticClass:"list-hybrid__item",attrs:{role:"presentation"}},[t._v("\n      "+t._s(t.$i18n.translate("Product.related_pieces.discover_more"))+"\n    ")]),t._v(" "),i("li",{attrs:{role:"presentation"}},[i("ul",{staticClass:"list-hybrid"},t._l(t.list,(function(e){return i("li",{key:e.url,staticClass:"list-hybrid__item"},[i("a",{staticClass:"list-hybrid__link",attrs:{href:e.url}},[t._v("\n            "+t._s(e.title)+"\n          ")])])})),0)])])]):t._e()}),[],!1,null,null,null).exports,O=i("OLXj"),x=i("kj7Q"),P=i("BkRI"),w=i.n(P),$=i("Wt1U"),A=i.n($),I=i("PP4N"),R=i.n(I),z=i("Z0cm"),j=i.n(z),q=i("bNQv"),E=i.n(q),L=i("7GkX"),N=i.n(L),U=i("ijCd"),B=i.n(U),D={props:{filter:{type:Object,required:!0},activeFilters:{type:Object,default:function(){}}},computed:{filterClasses:function(){return["list-selectable list-stacked list-stacked--tight list-stacked--divided",this.filter.class?this.filter.class:""]}},methods:{buttonClasses:function(t){return["list-selectable__btn btn btn--bare",{active:this.itemIsActive(t)},{"btn--disabled":t.disabled},"rcms_subfilterselected"]},itemIsActive:function(t){return!!v()(this.activeFilters,this.filter.id)&&B()(this.activeFilters[this.filter.id],t.value)}}},M=Object(S.a)(D,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{class:t.filterClasses,attrs:{"data-cy":"mixed-grid-filter-list","data-cy-filter-id":t.filter.id}},t._l(t.filter.items,(function(e){return i("li",{key:e.value},[i("button",{class:t.buttonClasses(e),attrs:{type:"button","data-property":t.filter.id,"data-value":e.value,"data-tracking-sub-filter-name":e.trackingLabel,"aria-pressed":t.itemIsActive(e),disabled:e.disabled&&!0===e.disabled},on:{click:function(i){return t.$emit("onItemSelected",t.filter.id,e.value)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])])})),0)}),[],!1,null,null,null).exports,T=(i("4mDm"),i("07d7"),i("3bBZ"),i("3WF5")),G=i.n(T),V=i("mNz5"),W=i.n(V),H=i("Xc3/"),J={props:{filter:{type:Object,required:!0},activeFilters:{type:Object,default:function(){}},symbol:{type:String,default:""}},data:function(){return{uniqueId:W()("range_"),widget:void 0,values:void 0,options:{}}},computed:{rangeClasses:function(){return["range",{"btn--disabled":this.filter.disabled}]}},watch:{activeFilters:function(t,e){this.options&&this.widget&&!v()(t,this.filter.id)&&v()(e,this.filter.id)&&this.init()},symbol:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){this.destroyRange(),this.options=this.filter.options,this.options.format||(this.options.noUiSliderOptions.tooltips=[this.rangeFormatter(this.filter.items),this.rangeFormatter(this.filter.items)]),this.initRange()},initRange:function(){this.widget=new H.Range(this.$refs.range,this.options),this.widget.getNoUiSlider().on("set",this.onRangeSet)},destroyRange:function(){this.widget&&(this.widget.destroy(),this.widget=void 0)},onRangeSet:function(){var t=this.widget.getValue(),e=r()(t,2),i=e[0],s=e[1],l=[];!1===this.options.noUiSliderOptions.snap?l=i===this.options.noUiSliderOptions.range.min&&s===this.options.noUiSliderOptions.range.max?[]:[i,s]:(i>0||s<this.filter.items.length-1)&&(l=this.filter.items.slice(i,s+1)),this.values="hasprice"===this.filter.id?l:G()(l,(function(t){return t.value})),this.$emit("onRangeChange",this.filter,this.values)},rangeFormatter:function(t){return{to:function(e){return t[e].label},from:function(t){return t}}}}},X=Object(S.a)(J,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"menu-list__body",attrs:{"data-cy":"mixed-grid-filter-range"}},[e("div",{staticClass:"pdg+"},[e("div",{ref:"range",class:this.rangeClasses,attrs:{id:this.uniqueId,"data-property":this.filter.id,"data-label":this.filter.label,"data-options":this.filter.options,"data-items":this.filter.items}})])])}),[],!1,null,null,null).exports,Q=i("afOK"),Y=i.n(Q),Z={pertinenceAsc:{order:"asc",field:"pertinence",label:"Search.Sort.Pertinence"},publicationDesc:{order:"desc",field:"publication_date",label:"Search.Sort.Novelties"},priceAsc:{order:"asc",field:"price_position",label:"Search.Sort.PriceAsc"},priceDesc:{order:"desc",field:"price_position",label:"Search.Sort.PriceDesc"}},K={props:{value:{type:String,required:!0}},data:function(){return{sortOptions:Z}},methods:{onChange:function(t){var e=t.target.value,i=Z[e].field,s=Z[e].order;window.dataLayer.push({event:"defaultFilter",option:"".concat(i," ").concat(s)}),this.$emit("onSortChange",e)}}},tt=Object(S.a)(K,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group mrgb-"},[i("div",{staticClass:"relative-parent"},[i("label",{staticClass:"field-label label label--inline label--negative hidden-sm-down",attrs:{for:"order"}},[t._v("\n      "+t._s(t.$i18n.translate("Search.Sort.Label"))+"\n    ")]),t._v(" "),i("select",{staticClass:"filters__order-select field field--select field--small field--inline field--negative",attrs:{id:"order",name:"order"},domProps:{value:t.value},on:{change:t.onChange}},t._l(t.sortOptions,(function(e,s){return i("option",{key:e.id,domProps:{value:s}},[t._v("\n        "+t._s(t.$i18n.translate(e.label))+"\n      ")])})),0),t._v(" "),i("label",{staticClass:"filters__order-label btn btn--filter btn--small btn--negative hidden-md-up",attrs:{for:"order"}},[i("ico",{attrs:{icon:"sort","class-name":"ico--medium mrgr--"}}),t._v("\n      "+t._s(t.$i18n.translate("Search.Sort.Label"))+"\n    ")],1)])])}),[],!1,null,null,null).exports,et={props:{filters:{type:Object,required:!0},activeFilters:{type:Object,required:!0}},computed:{hasFilters:function(){return N()(this.activeFilters).length>0}},methods:{getFilterItemFromIdAndValue:function(t,e,i){return Y()(g()(t[e].items,(function(t){return t.value===i})))},isRange:function(t){return"range"===this.filters[t].component},isSellable:function(t){return"sellable"===t}}},it={components:{MixedGridFiltersSelected:Object(S.a)(et,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"filters__selected",attrs:{"aria-label":t.$i18n.translate("Search.activeFilters")}},[i("div",{staticClass:"container"},[i("ul",{staticClass:"list-inline list-inline--center"},[t.hasFilters?[t._l(t.activeFilters,(function(e,s){return[t.isSellable(s)?[i("li",{key:s},[i("div",{staticClass:"choice"},[i("span",{staticClass:"choice__label"},[t._v(t._s(t.$i18n.translate("ProductProperty.SHOW.AVAILABLE FOR PURCHASE")))]),t._v(" "),i("button",{staticClass:"btn btn--bare",attrs:{type:"button","aria-label":t.$i18n.translate("Search.RemoveFilter")},on:{click:function(e){return t.$emit("removeFilter",s)}}},[i("ico",{attrs:{icon:"close","class-name":"ico--small mrgl--"}})],1)])])]:t.isRange(s)?[i("li",{key:s},[i("div",{staticClass:"choice"},[i("span",{staticClass:"choice__label"},[t._v(t._s(t.filters[s].label))]),t._v(" "),i("button",{staticClass:"btn btn--bare",attrs:{type:"button","aria-label":t.$i18n.translate("Search.RemoveFilter")},on:{click:function(e){return t.$emit("removeFilter",s)}}},[i("ico",{attrs:{icon:"close","class-name":"ico--small mrgl--"}})],1)])])]:t._l(e,(function(e){return i("li",{key:e,staticClass:"pdg--"},[i("div",{staticClass:"choice"},[i("span",{staticClass:"choice__label"},[t._v(t._s(t.getFilterItemFromIdAndValue(t.filters,s,e).label))]),t._v(" "),i("button",{staticClass:"btn btn--bare",attrs:{type:"button","aria-label":t.$i18n.translate("Search.RemoveFilter")},on:{click:function(i){return t.$emit("removeFilter",s,e)}}},[i("ico",{attrs:{icon:"close","class-name":"ico--small mrgl--"}})],1)])])}))]})),t._v(" "),i("li",{staticClass:"pdg--"},[i("button",{staticClass:"btn btn--default btn--small rcms_resetfilters",attrs:{type:"button","aria-label":t.$i18n.translate("Search.ResetAll"),"data-cy":"clear-filters-btn"},on:{click:function(e){return t.$emit("removeAllFilters")}}},[t._v("\n            "+t._s(t.$i18n.translate("Search.ResetAll"))+"\n          ")])])]:t._e()],2)])])}),[],!1,null,null,null).exports,MixedGridFiltersItemList:M,MixedGridFiltersItemRange:X,MixedGridSortSelect:tt},props:{uniqueId:{type:String,required:!0},shouldDisplaySellable:{type:Boolean,default:!0},filters:{type:Object,required:!0},defaultFilters:{type:Object,default:function(){}},defaultSort:{type:String,required:!0},productsCount:{type:Number,default:0}},data:function(){return{currentSort:"",activeFilters:{},availableOnline:!1}},computed:{hasFilters:function(){return N()(this.activeFilters).length>0},productCountLabel:function(){var t="Search.results";return 0===this.productsCount?t="Search.no results":1===this.productsCount&&(t="Search.result"),"".concat(this.productsCount," ").concat(this.$i18n.translate(t))}},watch:{availableOnline:function(t){!0!==t||v()(this.activeFilters,"sellable")?!1===t&&v()(this.activeFilters,"sellable")&&this.removeFilter("sellable"):this.addFilter("sellable","sellable")}},mounted:function(){this.currentSort=this.defaultSort,this.activeFilters=this.defaultFilters,this.initFilters()},methods:{initFilters:function(){E()(this.$refs.filterPopover,(function(t){new Toolkit.Popover(t,{popperOptions:{placement:"rtl"===document.dir?"bottom-end":"bottom-start"}})})),new Toolkit.Panel(this.$refs.filterPanel),E()(this.$refs.filterCollapsible,(function(t){new Toolkit.Collapsible(t)}))},getSymbolFromFilter:function(t){return"hasprice"!==t.id?"":t.options.format.symbol},onSortChange:function(t){this.$emit("onSortChange",t)},toggleFilter:function(t,e){var i;(null===(i=this.activeFilters[t])||void 0===i?void 0:i.includes(e))?this.removeFilter(t,e):this.addFilter(t,e)},onRangeChange:function(t,e){d()(e)?this.removeFilter(t.id):this.addFilter(t.id,e)},addFilter:function(t,e){v()(this.activeFilters,t)||(this.activeFilters[t]=[]),j()(e)?this.activeFilters[t]=e:this.activeFilters[t].push(e),this.updateFilter(this.activeFilters)},removeFilter:function(t,e){e&&1!==this.activeFilters[t].length?this.activeFilters[t]=A()(this.activeFilters[t],e):R()(this.activeFilters,t),this.updateFilter(this.activeFilters),"sellable"!==t||(this.availableOnline=!1)},removeAllFilters:function(){this.updateFilter({}),this.availableOnline=!1},updateFilter:function(t){Object(y.vueSet)(this,"activeFilters",w()(t)),this.$emit("onFiltersChanged",this.activeFilters)}}},st=Object(S.a)(it,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container container--tight"},[i("div",{staticClass:"filters"},[i("div",{staticClass:"filters-primary"},[i("div",{staticClass:"container"},[i("div",{staticClass:"filters-primary-layout"},[i("div",{staticClass:"filters-primary-layout__left"},[i("div",[i("button",{staticClass:"btn btn--filter btn--small btn--negative hidden-md-up mrgb-",attrs:{type:"button","data-target":"#"+t.uniqueId+"-filters-panel","data-toggle":"panel","aria-expanded":"false"}},[i("ico",{attrs:{icon:"filters","class-name":"ico--medium mgr--"}}),t._v("\n                "+t._s(t.$i18n.translate("Product.filters"))+"\n              ")],1),t._v(" "),i("div",{ref:"filterPanel",staticClass:"panel panel--full panel--left",attrs:{id:t.uniqueId+"-filters-panel"}},[i("div",{staticClass:"panel__scrollable"},[i("div",{staticClass:"panel__body pdg0"},[i("header",{staticClass:"box box--primary text-light"},[i("div",{staticClass:"media media--middle"},[i("div",{staticClass:"media__body"},[i("div",{staticClass:"h4 heading-alt mrg0",attrs:{role:"heading","aria-level":"1"}},[t._v("\n                            "+t._s(t.$i18n.translate("Product.filters"))+"\n                          ")])]),t._v(" "),i("div",{staticClass:"media__right"},[i("button",{staticClass:"btn btn--bare",attrs:{type:"button","data-toggle":"panel","data-target":"#"+t.uniqueId+"-filters-panel","aria-expanded":"false"}},[i("ico",{attrs:{icon:"close","class-name":"ico--medium"}})],1)])])]),t._v(" "),i("ul",{staticClass:"menu-list"},t._l(t.filters,(function(e){return i("li",{key:"filter-"+e.id+"-mobile"},[i("button",{staticClass:"menu-list__link menu-list__link--title menu-list__link--dark rcms_filterbutton",attrs:{"data-toggle":"collapsible","data-tracking-filter-name":e.label,"data-target":"#"+t.uniqueId+"-collapse-filter-"+e.id,"aria-expanded":"false"}},[t._v("\n                          "+t._s(e.label)+"\n                        ")]),t._v(" "),i("div",{ref:"filterCollapsible",refInFor:!0,staticClass:"collapsible",attrs:{id:t.uniqueId+"-collapse-filter-"+e.id}},["list"===e.component?i("mixed-grid-filters-item-list",{attrs:{filter:e,"active-filters":t.activeFilters},on:{onItemSelected:t.toggleFilter}}):t._e(),t._v(" "),"range"===e.component?i("mixed-grid-filters-item-range",{attrs:{filter:e,symbol:t.getSymbolFromFilter(e),"active-filters":t.activeFilters},on:{onRangeChange:t.onRangeChange}}):t._e()],1)])})),0),t._v(" "),i("ul",{staticClass:"list-stacked list-stacked--small pdg",attrs:{role:"presentation"}},[i("li",{attrs:{role:"presentation"}},[i("button",{staticClass:"btn btn--primary btn--block active",attrs:{"data-toggle":"panel","data-target":"#"+t.uniqueId+"-filters-panel","aria-expanded":"true"}},[t._v("\n                          "+t._s(t.$i18n.translate("Search.applyFilters"))+"\n                        ")])]),t._v(" "),i("li",{attrs:{role:"presentation"}},[i("button",{staticClass:"btn btn--default btn--block",on:{click:t.removeAllFilters}},[t._v("\n                          "+t._s(t.$i18n.translate("Search.ResetAll"))+"\n                        ")])])])])])]),t._v(" "),i("section",{staticClass:"media media--middle hidden-sm-down",attrs:{"aria-labelledby":"filters-label"}},[i("div",{staticClass:"media__left"},[i("label",{staticClass:"field-label label label--inline label--negative",attrs:{id:"filters-label"}},[t._v("\n                    "+t._s(t.$i18n.translate("Product.filters preferences"))+"\n                  ")])]),t._v(" "),i("div",{staticClass:"media__body"},[i("ul",{staticClass:"list-inline",attrs:{role:"presentation"}},t._l(t.filters,(function(e){return i("li",{key:"filter-"+e.id+"-desktop",staticClass:"pdgh0 pdgr pdgb-",attrs:{role:"presentation"}},[i("button",{staticClass:"btn btn--filter btn--small btn--negative rcms_filterbutton",attrs:{type:"button","data-tracking-filter-name":e.label,"data-toggle":"popover","data-target":"#"+t.uniqueId+"-popover-filter-"+e.id,"data-cy":e.id,"aria-expanded":"false"}},[i("ico",{attrs:{icon:"minus-bold","class-name":"btn__icon ico--small mrgr--"}}),t._v(" "),i("ico",{attrs:{icon:"plus-bold","class-name":"btn__icon ico--small mrgr--"}}),t._v("\n\n                        "+t._s(e.label)+"\n                      ")],1),t._v(" "),i("div",{ref:"filterPopover",refInFor:!0,staticClass:"filters__popover popover",attrs:{id:t.uniqueId+"-popover-filter-"+e.id}},["list"===e.component?i("mixed-grid-filters-item-list",{attrs:{filter:e,"active-filters":t.activeFilters},on:{onItemSelected:t.toggleFilter}}):t._e(),t._v(" "),"range"===e.component?i("mixed-grid-filters-item-range",{attrs:{filter:e,symbol:t.getSymbolFromFilter(e),"active-filters":t.activeFilters},on:{onRangeChange:t.onRangeChange}}):t._e()],1)])})),0)])])])]),t._v(" "),i("div",{staticClass:"filters-primary-layout__right"},[i("mixed-grid-sort-select",{on:{onSortChange:t.onSortChange},model:{value:t.currentSort,callback:function(e){t.currentSort=e},expression:"currentSort"}})],1)])])]),t._v(" "),i("div",{staticClass:"filters-secondary"},[i("div",{staticClass:"container"},[i("ul",{staticClass:"list-inline list-inline--right",attrs:{role:"presentation"}},[t.shouldDisplaySellable?i("li",{attrs:{role:"presentation"}},[i("div",{staticClass:"checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.availableOnline,expression:"availableOnline"}],staticClass:"checkbox__input rcms_filtercheckbox",attrs:{id:"available-online",type:"checkbox"},domProps:{checked:Array.isArray(t.availableOnline)?t._i(t.availableOnline,null)>-1:t.availableOnline},on:{change:function(e){var i=t.availableOnline,s=e.target,r=!!s.checked;if(Array.isArray(i)){var l=t._i(i,null);s.checked?l<0&&(t.availableOnline=i.concat([null])):l>-1&&(t.availableOnline=i.slice(0,l).concat(i.slice(l+1)))}else t.availableOnline=r}}}),t._v(" "),i("label",{staticClass:"checkbox__label",attrs:{for:"available-online"}},[t._v("\n                "+t._s(t.$i18n.translate("ProductProperty.SHOW.AVAILABLE FOR PURCHASE"))+"\n              ")])])]):t._e()])])]),t._v(" "),i("mixed-grid-filters-selected",{attrs:{filters:t.filters,"active-filters":t.activeFilters},on:{removeFilter:t.removeFilter,removeAllFilters:t.removeAllFilters}}),t._v(" "),i("div",{staticClass:"container",attrs:{"aria-live":"polite","aria-atomic":"true"}},[i("h2",{staticClass:"heading-alt text-small text-muted text-center mrgt mrgb0"},[t._v("\n        "+t._s(t.productCountLabel)+"\n      ")])])],1)])}),[],!1,null,null,null).exports,rt=i("E4v8"),lt={components:{MixedGridFilters:st,PictureLazy:x.a,Product:O.a,RelatedLinks:k},props:{uniqueId:{type:String,required:!0},title:{type:String,default:""},subtitle:{type:String,default:""},products:{type:Array,default:function(){return[]}},media:{type:Array,default:function(){return[]}},filters:{type:Object,default:function(){}},alignedCenter:{type:Boolean,default:!1},relatedLinks:{type:Array,default:function(){return[]}}},data:function(){return{activeFilters:{},currentSort:"pertinenceAsc",columns:[],Piaget:window.Piaget}},computed:{gridClass:function(){return["mixed-grid grid grid--multiline grid--even",{"grid--center":this.alignedCenter}]},filteredColumns:function(){if("pertinenceAsc"===this.currentSort&&!Object.keys(this.activeFilters).length)return this.columns;var t=this.columns.filter((function(t){return"product"===t.template}));return t=this.filterProducts(t),this.sortProducts(t)},filteredProductsCount:function(){return this.filteredColumns.filter((function(t){return"product"===t.template})).length},displayFilter:function(){return this.filters&&Object.keys(this.filters).length},widths:function(){return{lg:{1:"1/4",2:"1/2",3:"3/4",4:"1/1"},md:{1:"1/3",2:"2/3",3:"1/1"},sm:{1:"1/2",2:"1/1"},xs:{1:"1/2",2:"1/1"}}},filersWithLocalizedPrices:function(){var t=this.filters;if(Object.keys(t).includes("hasprice")){var e=this.Piaget.currentCountry;if(e){var i=void 0,s=t.hasprice.options,r=this.products.map((function(t){var s=t.price;return s&&s[e]?(i||(i=s[e].currency),s[e].value):null})).filter((function(t){return null!==t}));i&&(s.format.symbol="".concat(i," ")),r.sort((function(t,e){return t-e}));var l=r[0],a=r.slice(-1)[0];l&&a&&(s.noUiSliderOptions.range.min=l,s.noUiSliderOptions.range.max=a,s.noUiSliderOptions.start[0]=l,s.noUiSliderOptions.start[1]=a),Object(y.vueSet)(t,["hasprice","options"],s)}}return t}},created:function(){var t=this;this.initColumns(),rt.EventBus.$on(rt.CURRENT_COUNTRY_CHANGED,(function(e){return t.currentCountry=e}))},destroyed:function(){rt.EventBus.$off(rt.CURRENT_COUNTRY_CHANGED)},methods:{onSortChange:function(t){this.currentSort=t},onFiltersChanged:function(t){this.activeFilters=t},initColumns:function(){for(var t=1,e=1,i=[],s=function(t,e){return t>4&&(e+=1,t=1),[t,e]},l=0;l<this.products.length;l++){for(var a=!0;a;){var n=this.addMediaForRowIndex(i,e,t),o=r()(n,2);t=o[0],a=o[1];var c=s(t,e),d=r()(c,2);t=d[0],e=d[1]}var u={data:this.products[l],template:"product",row:e,size:1,sizes:{}};i.push(u);var f=s(++t,e),p=r()(f,2);t=p[0],e=p[1]}this.columns=this.initMediaSizes(i)},addMediaForRowIndex:function(t,e,i){var s=C()(this.media,{row:e,position:i});return s?(this.media.splice(this.media.indexOf(s),1),i+=s.size?s.size:1,s.row=e,s.sizes={},t.push(s),[i,!0]):[i,!1]},initMediaSizes:function(t){var e=this;return t.forEach((function(i,s){if("product"!==i.template){i.sizes.lg=i.size,i.sizes.md=1;var r=e.getPredecessorsWeight(t,s,"sm");i.sizes.sm=(r%2==0||0===r)&&i.size>1?2:1,i.sizes.xs=i.sizes.sm}})),t},getPredecessorsWeight:function(t,e,i){return t.filter((function(t,i){return i<e})).reduce((function(t,e){return t+(e.sizes[i]?e.sizes[i]:1)}),0)},filterProducts:function(t){var e=this,i=t;return Object.entries(this.activeFilters).forEach((function(t){var s=r()(t,2),l=s[0],a=s[1];i="hasprice"!==l?e.filterProductsByProperties(i,a):e.filterProductsByPrices(i,a[0],a[1])})),i},filterProductsByPrices:function(t,e,i){var s=g()(t,(function(t){if(!v()(t.data,"price"))return!1;var s=m()(t.data.price,[window.Piaget.currentCountry,"value"]);return s>=e&&s<=i}));if(i===1/0){var r=f()(s,(function(t){return t.data.price_position})).data.price_position;s=s.concat(g()(t,(function(t){return t.data.price_position>r})))}return s},filterProductsByProperties:function(t,e){return g()(t,(function(t){return!d()(o()(e,t.data.product_property_ids))}))},sortProducts:function(t){var e=Z[this.currentSort].field,i=Z[this.currentSort].order;return a()(t,(function(t){var s=t.data[e];return void 0===s||0===s.length?"asc"===i?1/0:-1/0:Number(String(s).replace(/[^0-9]/g,""))}),[i])},getSizes:function(t){var e=t.sizes.sm?t.sizes.sm:1,i=t.sizes.md?t.sizes.md:1,s=t.sizes.lg?t.sizes.lg:1,r=t.sizes.xs?t.sizes.xs:1;return"xs-w-".concat(this.widths.xs[r]," sm-w-").concat(this.widths.sm[e]," md-w-").concat(this.widths.md[i]," lg-w-").concat(this.widths.lg[s])},getImage:function(t){var e=t.sizes,i=t.data.stacks,s=t.data.image;return s.sources=Object.keys(e).map((function(t){return i[e[t]].sources[t]})),s}}},at=Object(S.a)(lt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.displayFilter?i("mixed-grid-filters",{attrs:{filters:t.filersWithLocalizedPrices,"products-count":t.filteredProductsCount,"unique-id":t.uniqueId,"default-sort":t.currentSort,"default-filters":t.activeFilters},on:{onSortChange:t.onSortChange,onFiltersChanged:t.onFiltersChanged}}):t._e(),t._v(" "),i("section",{staticClass:"section"},[i("div",{staticClass:"container"},[t.title?i("h2",{staticClass:"h2 heading heading--center mrgt0"},[t._v("\n        "+t._s(t.title)+"\n      ")]):t._e(),t._v(" "),t.subtitle?i("p",{staticClass:"text-center mrgb+"},[t._v(t._s(t.subtitle))]):t._e(),t._v(" "),i("div",{class:t.gridClass},t._l(t.filteredColumns,(function(e,s){return i("div",{key:s,class:["grid__item",t.getSizes(e),{"mixed-grid__item":"product"!==e.template}],attrs:{"data-cy":e.template}},["image-fit"===e.template?i("div",{staticClass:"image-fit"},[i("picture-lazy",t._b({attrs:{"img-class":"image-fit__media"}},"picture-lazy",t.getImage(e),!1))],1):t._e(),t._v(" "),"product"===e.template?i("product",t._b({},"product",e.data,!1)):t._e()],1)})),0),t._v(" "),i("related-links",{attrs:{list:t.relatedLinks}})],1)])],1)}),[],!1,null,null,null);e.default=at.exports}},[[15,0,1]]]);